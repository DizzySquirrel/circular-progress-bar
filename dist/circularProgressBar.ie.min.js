var CircularProgressBar=function(){"use strict";var t={colorSlice:"#00a1ff",fontColor:"#000",fontSize:"1.6rem",fontWeight:400,lineargradient:!1,number:!0,round:!1,fill:"none",unit:"%",rotation:-90,size:200,stroke:10},e=function(t){var e=t.rotation,r=t.animationSmooth;return"transform:rotate("+e+"deg);transform-origin: 50% 50%;"+(r?"transition: stroke-dashoffset "+r:"")},r=function(t){return{"stroke-dasharray":t||"264"}},n=function(t){return{"stroke-linecap":t.round?"round":""}},i=function(t){return{"font-size":t.fontSize,"font-weight":t.fontWeight}},a=function(t){return document.querySelector(t)},o=function(t,e){var r=e.lineargradient,n=e.index,i=e.colorSlice;t.setAttribute("stroke",r?"url(#linear-"+n+")":i)},s=function(t,e){for(var r in e)null==t||t.setAttribute(r,e[r])},c=function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)},l=function(t,e){var r=c("tspan");return r.classList.add(t),e&&(r.textContent=e),r},u=function(t,e,r){var n=264-t/100*(r?2.64*(100-r):264);return e?-n:n},d=function(t,e,r){return void 0===r&&(r="beforeend"),t.insertAdjacentElement(r,e)};return function(){function f(t,e){void 0===e&&(e={}),this.className=t,this.globalObj=e;var r=document.querySelectorAll("."+t),n=[].slice.call(r);n.map((function(t,e){t.setAttribute("data-pie-index",e+1)})),this.elements=n}var h=f.prototype;return h.initial=function(t){var e=this,r=t||this.elements;Array.isArray(r)?r.map((function(t){return e.createSVG(t)})):this.createSVG(r)},h.progress=function(t,u,f){var h=this.className;f.number&&d(t,function(t,e){var r=c("text");r.classList.add(e+"-text-"+t.index),d(r,l(e+"-percent-"+t.index)),d(r,l(e+"-unit-"+t.index,t.unit));var n=Object.assign({x:"50%",y:"50%",fill:t.fontColor,"text-anchor":"middle",dy:t.textPosition||"0.35em"},i(t));return s(r,n),r}(f,h));var p=a("."+h+"-circle-"+f.index),v=Object.assign({fill:"none","stroke-width":f.stroke,"stroke-dashoffset":"264"},r(),n(f));s(p,v),this.animationTo(Object.assign({},f,{element:p}),!0),p.setAttribute("style",e(f)),o(p,f),u.setAttribute("style","width:"+f.size+"px;height:"+f.size+"px;")},h.animationTo=function(e,r){void 0===r&&(r=!1);var n=this.className,c=JSON.parse(a('[data-pie-index="'+e.index+'"]').getAttribute("data-pie")),l=a("."+n+"-circle-"+e.index);if(l){var d=r?e:Object.assign({},t,c,e,this.globalObj);if(r||o(l,d),!r&&d.number){var f=Object.assign({fill:d.fontColor},i(d)),h=a("."+n+"-text-"+d.index);s(h,f)}var p=a("."+n+"-percent-"+e.index);if(d.animationOff)return d.number&&(p.textContent=""+d.percent),void l.setAttribute("stroke-dashoffset",u(d.percent,d.inverse));var v=JSON.parse(l.getAttribute("data-angel")),m=Math.round(e.percent);if(0==m&&(d.number&&(p.textContent="0"),l.setAttribute("stroke-dashoffset","264")),!(m>100||m<=0||v===m)){var g,b=r?0:v,x=1e3/(d.speed||1e3),A=performance.now();requestAnimationFrame((function t(e){g=requestAnimationFrame(t);var r=e-A;r>=x-.1&&(A=e-r%x,v>=d.percent?b--:b++),l.setAttribute("stroke-dashoffset",u(b,d.inverse,d.cut)),p&&d.number&&(p.textContent=""+b),l.setAttribute("data-angel",b),l.parentNode.setAttribute("aria-valuenow",b),b===m&&cancelAnimationFrame(g)}))}}},h.createSVG=function(e){var r=e.getAttribute("data-pie-index"),n=JSON.parse(e.getAttribute("data-pie")),i=Object.assign({},t,n,{index:r},this.globalObj),a=c("svg"),o={role:"progressbar",width:i.size,height:i.size,viewBox:"0 0 100 100","aria-valuemin":"0","aria-valuemax":"100"};s(a,o),i.colorCircle&&a.appendChild(this.circle(i)),i.lineargradient&&a.appendChild(function(t){var e=t.index,r=t.lineargradient,n=c("defs"),i=c("linearGradient");i.id="linear-"+e;var a=[].slice.call(r);n.appendChild(i);var o=0;return a.map((function(t){var e=c("stop");s(e,{offset:o+"%","stop-color":""+t}),i.appendChild(e),o+=100/(a.length-1)})),n}(i)),a.appendChild(this.circle(i,"top")),e.appendChild(a),this.progress(a,e,i)},h.circle=function(t,i){void 0===i&&(i="bottom");var a=c("circle"),o={};if(t.cut){var l=264-2.64*(100-t.cut);o=Object.assign({"stroke-dashoffset":t.inverse?-l:l,style:e(t)},r(),n(t))}var u=Object.assign({fill:t.fill,stroke:t.colorCircle,"stroke-width":t.strokeBottom||t.stroke},o);t.strokeDasharray&&Object.assign(u,Object.assign({},r(t.strokeDasharray)));var d="top"===i?{class:this.className+"-circle-"+t.index}:u,f=Object.assign({cx:"50%",cy:"50%",r:42,"shape-rendering":"geometricPrecision"},d);return s(a,f),a},f}()}();
