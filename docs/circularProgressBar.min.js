var CircularProgressBar=function(){"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function n(n){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?t(Object(i),!0).forEach((function(t){e(n,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}))}return n}var r={colorCircle:!1,colorSlice:"#00a1ff",end:264,fontColor:"#365b74",fontSize:"1.6rem",fontWeight:700,lineargradient:!1,number:!0,opacity:10,round:!1,size:200,stroke:10};return function t(i){var c=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e(this,"initial",(function(e){if("IntersectionObserver"in window){var t=0,n=new IntersectionObserver((function(e,n){e.forEach((function(e){e.isIntersecting&&e.intersectionRatio>.75&&(c.createSvg(e.target,t),n.unobserve(e.target),t++)}))}),{root:null,rootMargin:"0px",threshold:0});e.forEach((function(e){n.observe(e)}))}else for(var r=0;r<e.length;r++)c.createSvg(e[r],r)})),e(this,"hexTorgb",(function(e,t){return"rgba("+(e=e.replace("#","")).match(new RegExp("(.{"+e.length/3+"})","g")).map((function(t){return parseInt(e.length%2?t+t:t,16)})).concat(t/100||1).join(",")+")"})),e(this,"circularBar",(function(e,t,r){var i=r.index,o=r.number,a=r.stroke,l=r.round,s=r.lineargradient,u=r.colorSlice,p=r.colorCircle,d=r.opacity,f=r.size;o&&e.insertAdjacentHTML("beforeend",c.percentElement(r));var g=document.querySelector(".".concat(c.pieName,"-circle-").concat(i)),h={fill:"none",transform:"rotate(-90, 50, 50)","stroke-width":a,"stroke-linecap":l?"round":""};c.setAttr(g,h,!1),c.animationTo(n(n({},r),{},{element:g}),!0),g.setAttribute("stroke",s?"url(#linear-".concat(i,")"):u);var m=p?"":"border-radius:50%;box-shadow:inset 0px 0px ".concat(a,"px ").concat(a,"px ").concat(c.hexTorgb(u,d));t.setAttribute("style","".concat(f,"px;height:").concat(f,"px;position:relative;").concat(m))})),e(this,"animationTo",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e.index,o=e.percent,a=document.querySelector(".pie-circle-".concat(i));if(a){var l=JSON.parse(a.getAttribute("data-angel")),s=JSON.parse(c.pieElement[i].getAttribute("data-pie")),u=t?e:n(n(n({},s),r),e),p=document.querySelector(".pie-circle-".concat(i)),d=document.getElementById("".concat(c.pieName,"-percent-").concat(i));if(!(o>100||o<0||l===o)){var f,g=t?0:l,h=function e(){l>=u.percent?g--:g++,f=requestAnimationFrame(e),p.setAttribute("stroke-dasharray",2.64*g+", 20000"),d&&u.number&&(d.textContent="".concat(g,"%")),g===o&&(p.setAttribute("data-angel",g),cancelAnimationFrame(f))};requestAnimationFrame(h)}}})),e(this,"percentElement",(function(e){var t=e.index,n=e.fontSize,r=e.fontWeight,i=e.fontColor;return'\n    <text id="'.concat(c.pieName,"-percent-").concat(t,'" x="50%" y="50%" font-size="').concat(n,'" font-weight="').concat(r,'" fill="').concat(i,'" text-anchor="middle" dominant-baseline="central" />')})),e(this,"createSvg",(function(e,t){var i=JSON.parse(e.getAttribute("data-pie")),o=n(n(n({},r),i),t),a=document.createElementNS(c.svg,"svg"),l={width:o.size,height:o.size,viewBox:"0 0 100 100"};c.setAttr(a,l,!1),o.colorCircle&&a.appendChild(c.circleSvg(i,"bottom")),o.lineargradient&&a.appendChild(c.linearGradient(o.index,o)),a.appendChild(c.circleSvg(i,"top",!0)),e.appendChild(a),c.circularBar(a,e,o)})),e(this,"linearGradient",(function(e,t){var n=document.createElementNS(c.svg,"defs"),r=document.createElementNS(c.svg,"linearGradient");r.id="linear-".concat(e);var i=[].slice.call(t.lineargradient);n.appendChild(r);for(var o=0,a=0;a<i.length;a++){var l=document.createElementNS(c.svg,"stop"),s={offset:"".concat(o,"%"),"stop-color":"".concat(i[a])};c.setAttr(l,s,!1),r.appendChild(l),o+=100/(i.length-1)}return n})),e(this,"circleSvg",(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=document.createElementNS(c.svg,"circle"),o="top"===t?{class:"".concat(c.pieName,"-circle-").concat(e.index)}:{fill:"none",stroke:e.colorCircle,"stroke-width":e.stroke},a=n({cx:50,cy:50,r:42,"shape-rendering":"geometricPrecision","data-angle":r?0:""},o);return c.setAttr(i,a,!1),i})),e(this,"setAttr",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var r in t)n?e.setAttributeNS(null,r,t[r]):e.setAttribute(r,t[r])})),this.pieName=i,this.pieElement=document.querySelectorAll(".".concat(i)),this.svg="http://www.w3.org/2000/svg",this.initial(this.pieElement)}}();
