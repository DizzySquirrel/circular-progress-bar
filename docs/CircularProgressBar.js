!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.CircularProgressBar=e():t.CircularProgressBar=e()}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.r(e);var i=function(){function t(e){var n=e.pieName;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pieName=n,this.pieElement=document.querySelectorAll(".".concat(n)),this.onChange(this.pieElement),this.svg="http://www.w3.org/2000/svg",this.xmlns="http://www.w3.org/2000/xmlns/",this.xlink="http://www.w3.org/1999/xlink"}var e,n,i;return e=t,(n=[{key:"onChange",value:function(t){var e=this;if("IntersectionObserver"in window)for(var n=new IntersectionObserver((function(r){return r.forEach((function(r){if(r.intersectionRatio>.75){for(var i=0;i<t.length;i++)t[i].dataset===r.target.dataset&&e.createSvg(r.target,i);n.unobserve(r.target)}}))}),{root:null,rootMargin:"0px",threshold:0}),r=0;r<t.length;r++)n.observe(t[r]);else for(var i=0;i<t.length;i++)this.createSvg(t[i],i)}},{key:"hexTorgb",value:function(t){var e=t.substring(1,7);return"".concat(parseInt(e.substring(0,2),16),", ").concat(parseInt(e.substring(2,4),16),", ").concat(parseInt(e.substring(4,6),16))}},{key:"circularBar",value:function(t){var e=this,n=document.querySelector(".".concat(this.pieName,"-circle-").concat(this.index)),r={colorSlice:this.colorSlice,strokeWidth:this.strokeWidth,end:this.end,time:this.time,round:this.round,percent:this.percent,number:this.number,index:this.index};r.number&&t.appendChild(this.percentElement());for(var i=function(t){setTimeout((function(){if(!(t>r.percent)){r.number&&e.percentElementUpdate(t,r.index);var i=2.64*t;n.setAttribute("style","fill: transparent; stroke-width: ".concat(r.strokeWidth,"; stroke-dashoffset: 66; stroke-dasharray: ").concat(i," ").concat(r.end-i,"; ").concat(r.round))}}),t*r.time)},o=0;o<=r.end;o++)i(o);n.setAttribute("stroke",this.lineargradient?"url(#linear)":this.colorSlice);var s=this.colorCircle?"":"border-radius: 50%; box-shadow: inset 0px 0px ".concat(this.strokeWidth,"px ").concat(this.strokeWidth,"px rgba(").concat(this.hexTorgb(this.colorSlice),", ").concat(this.opacity,")");this.pieElement[r.index].setAttribute("style","width: ".concat(this.size,"px; height: ").concat(this.size,"px;  position: relative; ").concat(s))}},{key:"percentElement",value:function(){var t=document.createElementNS(this.svg,"text");return t.id="".concat(this.pieName,"-percent-").concat(this.index),t.setAttributeNS(null,"x","50%"),t.setAttributeNS(null,"y","50%"),t.setAttributeNS(null,"font-size","".concat(this.fontSize)),t.setAttributeNS(null,"font-weight","".concat(this.fontWeight)),t.setAttributeNS(null,"fill","".concat(this.fontColor)),t.setAttributeNS(null,"dy",".34em"),t.setAttributeNS(null,"text-anchor","middle"),t}},{key:"percentElementUpdate",value:function(t,e){var n=document.getElementById("".concat(this.pieName,"-percent-").concat(e));return n.textContent="".concat(t,"%"),n}},{key:"createSvg",value:function(t,e){var n=JSON.parse(t.dataset.pie),r=n.lineargradient,i=n.round,o=n.percent,s=n.colorSlice,c=n.strokeWidth,l=n.opacity,a=n.number,u=n.colorCircle,h=n.size,d=n.fontSize,f=n.fontWeight,p=n.fontColor,b=n.time;this.index=e,this.percent=o||65,this.round=i?"stroke-linecap: round;":"",this.colorSlice=s||"#00a1ff",this.strokeWidth=c||10,this.opacity=l||.1,this.number=void 0===a,this.colorCircle=u,this.size=h||200,this.fontSize=d||"1.6rem",this.fontWeight=f||700,this.fontColor=p||"#365b74",this.time=b||30,this.end=264,this.lineargradient=r;var v=document.createElementNS(this.svg,"svg"),m=this.circleSvg(),g=this.circleSvg();m.setAttributeNS(null,"class","".concat(this.pieName,"-circle-").concat(this.index)),this.colorCircle&&(g.setAttributeNS(null,"fill","transparent"),g.setAttributeNS(null,"style","fill: transparent; stroke: ".concat(this.colorCircle,"; stroke-width: ").concat(this.strokeWidth,"px;")),v.appendChild(g)),v.setAttributeNS(null,"width",this.size),v.setAttributeNS(null,"height",this.size),v.setAttributeNS(null,"viewBox","0 0 100 100"),v.setAttributeNS(this.xmlns,"xmlns",this.xmlns),this.lineargradient&&v.appendChild(this.linearGradient()),v.appendChild(m),this.pieElement[this.index].appendChild(v),this.circularBar(v)}},{key:"linearGradient",value:function(){var t=document.createElementNS(this.svg,"defs"),e=document.createElementNS(this.svg,"linearGradient");e.id="linear";var n=[].slice.call(this.lineargradient);t.appendChild(e);for(var r=0,i=0;i<n.length;i++){var o=document.createElementNS(this.svg,"stop");o.setAttributeNS(null,"offset","".concat(r,"%")),o.setAttribute("style","stop-color: ".concat(n[i],";")),e.appendChild(o),r+=100/(n.length-1)}return t}},{key:"circleSvg",value:function(){var t=document.createElementNS(this.svg,"circle");return t.setAttributeNS(null,"cx",50),t.setAttributeNS(null,"cy",50),t.setAttributeNS(null,"r",42),t}}])&&r(e.prototype,n),i&&r(e,i),t}();e.default=i}]).default}));